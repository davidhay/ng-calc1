<!doctype html>
<html lang='en' ng-app>
<head>
<title>NG APP ONE</title>
<script
  src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
<script src="js/rows.js"></script>
<script src="js/grid-controller.js"></script>

<link href="css/bootstrap.css" rel="stylesheet">
</head>

<body ng-controller="GridController">
  <table ng-init="left=grid.left;right=grid.right">
    <tr ng-repeat="row in grid.rows" >      
      <td>
         <div ng-init="lcell=left.get($index)" ng-show="lcell.used">
          <input ng-model="lcell.value" 
            type="text" size="5" maxlength="5">
          </input>
          <button ng-show="left.length() > 1"
                  ng-click="left.remove($index)">Delete</button>
        </div>
      </td>
      <td>
         <div ng-init="rcell=right.get($index)" ng-show="rcell.used">
          <input ng-model="rcell.value"
            type="text" size="5" maxlength="5">
          </input>
          <button ng-show="right.length() > 1"
                  ng-click="right.remove($index)">Delete</button>
        </div>
     </td>
    </tr>
    <tr ng-show="showLeft || showRight">
      <td>
        <div ng-show="showLeft" >
          <button ng-click="left.add('')">Add</button>
        </div>
      </td>
      <td>
        <div ng-show="showRight" >
          <button ng-click="right.add('')">Add</button>
        </div>
      </td>
    </tr>
    <tr ng-init="showLeft=left.length()<10;showRight=right.length()>10">
      <td>{{left.total()}}</td>
      <td>{{right.total()}}</td>
    </tr>
  </table>
</body>
</html>